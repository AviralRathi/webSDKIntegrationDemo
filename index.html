<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://hv-camera-web-sg.s3-ap-southeast-1.amazonaws.com/hyperverge-web-sdk@4.1.6/src/sdk.min.js"></script>
  </head>
  <body>
    <center><h2>Hyperverge WebSDK Demo</h2></center>
    <div class="container">
      <div class="form-group">
        <center><button type="button" onclick="frontPanDocKyc();" class="btn btn-primary">Start KYC</button>
		</center>
	  </div>
    <div id="div1"></div>
    </div>
    <script>
      // client calls the auth api to get the token from their backend server
	var jwtToken = 'Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhcHBJZCI6ImE0NmIxMCIsImhhc2giOiI1MGY4ZjAzNTZiNWI1YzE2ODM2OTE5NzBkYTc0OTIwYzQwYjNiN2I1MjlmN2Q3MWY3MTkzZDdmNzhiMjUxNGMwIiwiaWF0IjoxNjU3ODY3MTU5LCJleHAiOjE2NTc4NzMxNTksImp0aSI6IjQ0YzVkMDA3LTQzMGUtNDcyNy04NDYxLTFlNjNjMmZkNzQyOCJ9.dC8V4yq1AkTd_2ASEiuRZGReRZlK-tx4aYfj94EzC7PviEDze-R3Lke3NKW94lxx0pLJgcM9oU-15wMnzQ4PsuzbKdjuXHzdFhIKSAkVfRyQaob09UNwp-RtAse7KF_GXbZeTryGjWo8tQhVAU2LNjwPNQU69dxNEXidnsN8Wzg'
	HyperSnapSDK.init(jwtToken, HyperSnapParams.Region.India);
	HyperSnapSDK.startUserSession();
	  
	//For Doc Front Capture Screen
	
	
	function frontPanDocKyc() {
		let hvDocConfig = new (<any>window).HVDocConfig();
		
		hvDocConfig.setOCRDetails(
			'https://ind-docs.hyperverge.co/v2.0/readPAN',
			hvDocConfig.DocumentSide.FRONT,
			{},
			{},
		);
		hvDocConfig.setShouldShowInstructionPage(true);
		hvDocConfig.setShouldShowDocReviewScreen(true);
		hvDocConfig.docTextConfig.setDocCaptureTitle('FRONT SIDE OF PAN DOCUMENT');
		
		frontPancallback = (HVError: any, HVResponse: any) => {
			if (HVError) {
				console.log('Front HVError', HVError);
				var para = document.createElement('p');
				  var node = document.createTextNode(JSON.stringify(HVError));
				  para.appendChild(node);
				  var element = document.getElementById('div1');
				  element.appendChild(para);
				//this.toastr.error(HVError.errorMsg);
				//this.showPendingStatus = true;
				// this.frontPanDocKyc():
			}
			else {
				console.log('Front HVResponse', HVResponse);
				var para = document.createElement('p');
				  var node = document.createTextNode(JSON.stringify(HVResponse));
				  para.appendChild(node);
				  var element = document.getElementById('div1');
				  element.appendChild(para);
				//this.kycSuccessResp = HVResponse;
				//this.pan_imgBase64 = HVResponse.imgBase64;
				//this.kycSuccessResp.doc_face ="FRONT DOCUMENT";
				//this.hypervergeSuccess():
			}
		};

		(<any>window).HVDocsModule.start(hvDocConfig, frontPancallback); 
	}
	  
	</script>
  </body>
</html>	
